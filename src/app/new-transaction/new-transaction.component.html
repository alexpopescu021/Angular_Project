<h1>Transaction</h1>

<nav>
  <ul>
    <li class="badge badge-pill badge-primary">Transaction</li>
    <li class="badge badge-pill badge-primary">
      <a href="conversion">Conversion</a>
    </li>
  </ul>
</nav>
<form (ngSubmit)="onSubmit(transactionForm)" #transactionForm="ngForm">
  <label for="transactionType">Transaction Type:</label>
  <select
    id="transactionType"
    [(ngModel)]="transactionType"
    name="transactionType"
    required
  >
    <option value="BankTransaction">Bank transaction</option>
    <option value="Card">Card</option>
    <!-- Add options for transaction type dropdown -->
  </select>

  <!-- Conditionally display additional input fields -->
  <div *ngIf="transactionType === 'BankTransaction'">
    <label for="iban">IBAN:</label>
    <input
      type="text"
      id="iban"
      [(ngModel)]="iban"
      name="iban"
      required
      #ibanField="ngModel"
    />
    <div *ngIf="ibanField.invalid && ibanField.touched" class="error">
      IBAN is required.
    </div>
  </div>

  <div *ngIf="transactionType === 'Card'">
    <label for="cardNumber">Card Number:</label>
    <input
      type="text"
      id="cardNumber"
      [(ngModel)]="cardNumber"
      name="cardNumber"
      required
      #cardNumberField="ngModel"
    />
    <div
      *ngIf="cardNumberField.invalid && cardNumberField.touched"
      class="error"
    >
      Card Number is required.
    </div>
  </div>

  <div class="input-container">
    <label for="amount">Amount:</label>
    <div class="input-wrapper">
      <input
        type="number"
        id="amount"
        [(ngModel)]="amount"
        name="amount"
        required
        min="0.01"
        #amountField="ngModel"
      />
      <span class="currency-symbol">â‚¬</span>
    </div>
    <div *ngIf="amountField.invalid && amountField.touched" class="error">
      Amount must be greater than 0.
    </div>
  </div>

  <p *ngIf="transactionType === 'Card'">
    For card transactions, there is a 0.70% tax.
  </p>
  <p *ngIf="transactionType === 'BankTransaction'">
    For bank transactions, there is no tax.
  </p>

  <button
    type="submit"
    [disabled]="transactionForm.invalid"
    class="submit-button"
  >
    Send
  </button>
</form>
